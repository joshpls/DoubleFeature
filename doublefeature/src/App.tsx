import { useMemo, useState } from 'react';
import type { Movie, Theatre } from './models/types';
import { MovieCard } from './components/MovieCard';
import { getBufferTime, getDurationMinutes } from './utils/helper';
import { testData } from './utils/testdata';
import { Itinerary } from './components/Itinerary';

// Paste your JSON array here or fetch it
// const rawData = [{"tmsId":"MV027065170000","rootId":"31385475","subType":"Feature Film","title":"Shelter","releaseYear":2026,"releaseDate":"2026-01-30","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Action","Thriller"],"longDescription":"On a remote coastal island, a former assassin living in self-imposed exile rescues a young girl from a deadly storm. As their lives start to intertwine, he must protect the orphan while battling enemies from his past.","shortDescription":"A former assassin must protect a young orphan while battling enemies from his past.","topCast":["Jason Statham","Bodhi Rae Breathnach","Bill Nighy"],"directors":["Ric Roman Waugh"],"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Violence"],"runTime":"PT01H47M","preferredImage":{"width":"240","height":"360","uri":"assets/p31385475_v_v12_ab.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T12:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=301021&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T14:20","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=301021&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T16:45","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=301021&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T19:15","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=301021&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:45","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=301021&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T13:00","quals":"Advance Tickets Available|Sub-Titled|Open Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=301021&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T15:45","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=301021&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T18:45","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=301021&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T21:40","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=301021&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T12:30","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T14:45","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T17:00","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T19:15","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=301021&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T15:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=301021&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T18:30","quals":"Descriptive Video Services|Reserved Seating|Closed Captioned","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=301021&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T22:00","quals":"21+|Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=301021&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T13:00","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=301021&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T15:50","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=301021&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T18:40","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=301021&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T21:30","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=301021&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T12:30","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=301021&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T15:10","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=301021&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T17:50","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=301021&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T20:30","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=301021&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=301021&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T17:10","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=301021&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T20:30","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=301021&d=2026-01-31"}]},{"tmsId":"MV027231260000","rootId":"31579755","subType":"Feature Film","title":"Melania","releaseYear":2026,"releaseDate":"2026-01-30","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Documentary"],"longDescription":"Twenty days before the 2025 presidential inauguration, Melania Trump navigates the complexities of the White House transition as she prepares for the role of first lady once again.","shortDescription":"Melania Trump prepares for the role of first lady 20 days before the 2025 presidential inauguration.","topCast":["Melania Trump"],"directors":["Brett Ratner"],"ratings":[{"body":"Motion Picture Association","code":"PG"}],"advisories":["Adult Situations"],"runTime":"PT01H44M","preferredImage":{"width":"240","height":"360","uri":"assets/p31579755_v_v11_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T12:05","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=310056&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T14:25","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=310056&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T16:50","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=310056&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T19:20","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=310056&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:55","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=310056&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:15","quals":"Open Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=310056&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T17:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=310056&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T18:15","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=310056&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T21:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=310056&d=2026-01-31"}]},{"tmsId":"MV025141100000","rootId":"29356588","subType":"Feature Film","title":"Mercy","releaseYear":2026,"releaseDate":"2026-01-23","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Science fiction","Action","Thriller"],"longDescription":"In the near future, an advanced AI judge tells a captive detective that he's on trial for the murder of his wife. If he fails to prove his innocence within 90 minutes, he'll be executed on the spot.","shortDescription":"A captive detective has 90 minutes to convince an advanced AI judge that he didn't murder his wife.","topCast":["Chris Pratt","Rebecca Ferguson","Kali Reis"],"directors":["Timur Bekmambetov"],"qualityRating":{"ratingsBody":"TMS","value":"2"},"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Language","Adult Situations","Violence"],"runTime":"PT01H39M","preferredImage":{"width":"240","height":"360","uri":"assets/p29356588_v_v11_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T12:10","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=274855&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T14:30","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=274855&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T16:50","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=274855&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T19:15","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=274855&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:40","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=274855&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T12:30","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=274855&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T14:50","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=274855&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T17:20","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=274855&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T19:45","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=274855&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T22:10","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=274855&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T12:35","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T14:45","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T16:55","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T19:05","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=274855&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T15:40","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=274855&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T18:15","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=274855&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T21:30","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=274855&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T13:20","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=274855&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T16:40","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=274855&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T19:20","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=274855&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T22:00","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=274855&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T11:55","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=274855&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T14:50","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=274855&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T18:45","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=274855&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T21:10","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=274855&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T14:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=274855&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T17:20","quals":"Descriptive Video Services|Reserved Seating|Closed Captioned","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=274855&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T20:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=274855&d=2026-01-31"},{"theatre":{"id":"2785","name":"St. Johns Theater & Pub"},"dateTime":"2026-01-31T12:00","quals":"Digital","barg":false},{"theatre":{"id":"2785","name":"St. Johns Theater & Pub"},"dateTime":"2026-01-31T15:30","quals":"Digital","barg":false},{"theatre":{"id":"2785","name":"St. Johns Theater & Pub"},"dateTime":"2026-01-31T19:00","quals":"Digital","barg":false}]},{"tmsId":"MV026096770000","rootId":"30322396","subType":"Feature Film","title":"Zootopia 2","releaseYear":2025,"releaseDate":"2025-11-26","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Animated","Children","Comedy","Adventure"],"audience":"Children","longDescription":"Detectives Judy Hopps and Nick Wilde find themselves on the twisting trail of a mysterious reptile who turns the mammal metropolis of Zootopia upside down. Testing their growing partnership like never before, they go undercover in new parts of town to crack the case.","shortDescription":"Detectives Judy Hopps and Nick Wilde find themselves on the twisting trail of a mysterious reptile.","topCast":["Ginnifer Goodwin","Jason Bateman","Ke Huy Quan"],"directors":["Jared Bush","Byron Howard"],"officialUrl":"https://movies.disney.com/zootopia-2","qualityRating":{"ratingsBody":"TMS","value":"3.5"},"ratings":[{"body":"Motion Picture Association","code":"PG"}],"advisories":["Adult Situations","Violence"],"runTime":"PT01H48M","animation":"Animated","preferredImage":{"width":"240","height":"360","uri":"assets/p30322396_v_v12_ai.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T12:30","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=287367&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T13:25","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=287367&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T16:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=287367&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T18:45","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=287367&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T11:45","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=287367&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T14:30","quals":"Descriptive Video Services|Closed Captioned","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=287367&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T17:00","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=287367&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T19:30","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=287367&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T21:20","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=287367&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T12:25","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T14:45","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T17:00","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=287367&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T16:30","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=287367&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T19:15","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=287367&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T12:50","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=287367&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T15:40","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=287367&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T18:30","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=287367&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T21:20","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=287367&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T13:15","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=287367&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T15:50","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=287367&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T18:30","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=287367&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T21:05","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=287367&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=287367&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T15:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=287367&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T19:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=287367&d=2026-01-31"}]},{"tmsId":"MV026834700000","rootId":"30848704","subType":"Feature Film","title":"The Housemaid","releaseYear":2025,"releaseDate":"2025-12-19","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Thriller"],"longDescription":"Hoping for a fresh start, a young woman becomes a live-in maid for a wealthy couple who harbor sinister secrets.","shortDescription":"A young woman becomes a live-in maid for a wealthy couple who harbor sinister secrets.","topCast":["Sydney Sweeney","Amanda Seyfried","Brandon Sklenar"],"directors":["Paul Feig"],"qualityRating":{"ratingsBody":"TMS","value":"2.5"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence","Nudity"],"runTime":"PT02H11M","preferredImage":{"width":"240","height":"360","uri":"assets/p30848704_v_v12_ad.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T12:50","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=297918&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T15:50","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=297918&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T13:30","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=297918&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T16:40","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=297918&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T20:00","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=297918&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T19:20","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T15:30","quals":"21+|Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=297918&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T22:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=297918&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T12:00","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=297918&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T14:15","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=297918&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T17:05","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=297918&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T20:05","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=297918&d=2026-01-31"}]},{"tmsId":"MV027454850000","rootId":"31926440","subType":"Feature Film","title":"Iron Lung","releaseYear":2026,"releaseDate":"2026-01-30","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Horror","Science fiction"],"longDescription":"Survivors of the apocalypse send a convict in a small submarine to explore a desolate moon that's an ocean of blood.","shortDescription":"A convict in a small submarine explores a desolate moon that's an ocean of blood.","topCast":["Mark Fischbach","Elsie Lovelock"],"directors":["Mark Fischbach"],"officialUrl":"https://ironlung.com/buy-tickets","ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence"],"runTime":"PT02H07M","preferredImage":{"width":"240","height":"360","uri":"assets/p31926440_v_v8_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T13:10","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=308301&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T16:05","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=308301&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T18:30","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=308301&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T19:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=308301&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:25","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=308301&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:55","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=308301&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T11:45","quals":"Advance Tickets Available","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=308301&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T15:00","quals":"Advance Tickets Available","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=308301&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T17:10","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=308301&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T18:15","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=308301&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T20:15","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=308301&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T21:30","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=308301&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T13:20","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T16:10","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T19:00","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=308301&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T15:00","quals":"Closed Captioned|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=308301&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T16:00","quals":"Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=308301&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T18:20","quals":"Closed Captioned|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=308301&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T19:15","quals":"Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=308301&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T21:45","quals":"Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=308301&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T14:45","quals":"Advance Tickets Available","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=308301&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T18:00","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=308301&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T19:30","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=308301&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T21:15","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=308301&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T12:00","quals":"Advance Tickets Available","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=308301&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T16:00","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=308301&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T18:00","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=308301&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T19:00","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=308301&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T21:00","quals":"Advance Tickets Available","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=308301&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T13:30","quals":"Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=308301&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T16:30","quals":"Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=308301&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T19:30","quals":"Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=308301&d=2026-01-31"},{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T21:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=308301&d=2026-01-31"}]},{"tmsId":"MV026398460000","rootId":"30630468","subType":"Feature Film","title":"Send Help","releaseYear":2026,"releaseDate":"2026-01-30","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Horror","Thriller"],"longDescription":"A woman and her overbearing boss become stranded on a deserted island after a plane crash. They must overcome past grievances and work together to survive, but ultimately, it's a battle of wills and wits to make it out alive.","shortDescription":"A woman turns the tables on her mean boss after a plane crash leaves them stranded on an island.","topCast":["Rachel McAdams","Dylan O'Brien","Edyll Ismail"],"directors":["Sam Raimi"],"officialUrl":"https://www.20thcenturystudios.com/movies/send-help","ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence"],"runTime":"PT01H53M","preferredImage":{"width":"240","height":"360","uri":"assets/p30630468_v_v11_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T13:40","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=293200&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T16:20","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=293200&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T19:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=293200&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:40","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=293200&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T13:15","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=293200&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T16:10","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=293200&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T19:00","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=293200&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T21:50","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=293200&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T14:05","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T16:40","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T19:10","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Descriptive Video Services|Dolby Cinema at AMC Prime|Recliners|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=293200&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T14:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=293200&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T16:00","quals":"Closed Captioned|Descriptive Video Services|Dolby Cinema at AMC Prime|Recliners|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=293200&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T19:00","quals":"Closed Captioned|Descriptive Video Services|Dolby Cinema at AMC Prime|Recliners|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=293200&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T20:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=293200&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T22:00","quals":"Closed Captioned|Descriptive Video Services|Dolby Cinema at AMC Prime|Recliners|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=293200&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T13:10","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=293200&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T16:05","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=293200&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T19:00","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=293200&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T21:55","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=293200&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T12:45","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=293200&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T15:30","quals":"Advance Tickets Available|Sub-Titled|Open Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=293200&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T18:15","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=293200&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T21:00","quals":"Advance Tickets Available|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=293200&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T14:00","quals":"Open Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=293200&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T16:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=293200&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T19:30","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=293200&d=2026-01-31"},{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T13:15","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=293200&d=2026-01-31"},{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T15:30","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=293200&d=2026-01-31"},{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T19:15","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=293200&d=2026-01-31"}]},{"tmsId":"MV018406500000","rootId":"22289267","subType":"Feature Film","title":"Avatar: Fire and Ash","releaseYear":2025,"releaseDate":"2025-12-17","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Science fiction","Adventure","Action","Fantasy"],"longDescription":"The conflict on Pandora escalates as Jake and Neytiri's family encounter a new, aggressive Na'vi tribe.","shortDescription":"The conflict on Pandora escalates as Jake and Neytiri encounter a new, aggressive Na'vi tribe.","topCast":["Sam Worthington","Zoe Salda\u00f1a","Sigourney Weaver"],"directors":["James Cameron"],"officialUrl":"https://www.20thcenturystudios.com/movies/avatar-fire-and-ash","qualityRating":{"ratingsBody":"TMS","value":"2.5"},"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Language","Adult Situations","Violence"],"runTime":"PT03H17M","preferredImage":{"width":"240","height":"360","uri":"assets/p22289267_v_v11_ad.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T15:10","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=216057&d=2026-01-31"},{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T19:10","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=216057&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T16:30","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=216057&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T14:25","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T18:15","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T14:15","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=216057&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T18:30","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=216057&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T21:00","quals":"Closed Captioned|Descriptive Video Services|GXL|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=216057&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T12:30","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=216057&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T15:55","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=216057&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T20:10","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=216057&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T16:40","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=216057&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T13:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=216057&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T16:15","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=216057&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T18:30","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=216057&d=2026-01-31"}]},{"tmsId":"MV025270140000","rootId":"29482600","subType":"Feature Film","title":"Return to Silent Hill","releaseYear":2026,"releaseDate":"2026-01-23","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Horror","Thriller"],"longDescription":"A mysterious letter leads a man to the cursed town of Silent Hill.","shortDescription":"A mysterious letter leads a man to the cursed town of Silent Hill.","topCast":["Jeremy Irvine","Hannah Emily Anderson","Robert Strange"],"directors":["Christophe Gans"],"qualityRating":{"ratingsBody":"TMS","value":"1.5"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence"],"runTime":"PT01H46M","preferredImage":{"width":"240","height":"360","uri":"assets/p29482600_v_v8_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"2159","name":"Battle Ground Cinema"},"dateTime":"2026-01-31T21:40","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATKV&m=292438&d=2026-01-31"},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T14:45","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T19:20","barg":false},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T22:00","quals":"21+|Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=292438&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T11:50","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=292438&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T14:30","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=292438&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T16:55","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=292438&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T19:55","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=292438&d=2026-01-31"}]},{"tmsId":"MV026591980000","rootId":"22289267","subType":"Feature Film","title":"Avatar: Fire and Ash 3D","releaseYear":2025,"releaseDate":"2025-12-19","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Science fiction","Adventure","Action","Fantasy"],"longDescription":"The conflict on Pandora escalates as Jake and Neytiri's family encounter a new, aggressive Na'vi tribe.","shortDescription":"The conflict on Pandora escalates as Jake and Neytiri encounter a new, aggressive Na'vi tribe.","topCast":["Sam Worthington","Zoe Salda\u00f1a","Sigourney Weaver"],"directors":["James Cameron"],"officialUrl":"https://www.20thcenturystudios.com/movies/avatar-fire-and-ash","qualityRating":{"ratingsBody":"TMS","value":"2.5"},"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Language","Adult Situations","Violence"],"runTime":"PT03H17M","preferredImage":{"width":"240","height":"360","uri":"assets/p22289267_v_v11_ad.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T12:15","quals":"No Passes|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=293195&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T20:50","quals":"Descriptive Video Services|Closed Captioned|No Passes","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=293195&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T12:15","quals":"No Passes|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=293195&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T19:25","quals":"No Passes|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=293195&d=2026-01-31"}]},{"tmsId":"MV025009340000","rootId":"29178588","subType":"Feature Film","title":"Hamnet","releaseYear":2025,"releaseDate":"2025-08-29","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Drama","Romance"],"longDescription":"William Shakespeare and his wife, Agnes, celebrate the birth of their son, Hamnet. However, when tragedy strikes and Hamnet dies at a young age, it inspires Shakespeare to write his timeless masterpiece \"Hamlet.\"","shortDescription":"The death of his young son inspires William Shakespeare to write his timeless masterpiece \"Hamlet.\"","topCast":["Jessie Buckley","Paul Mescal","Emily Watson"],"directors":["Chlo\u00e9 Zhao"],"officialUrl":"https://www.focusfeatures.com/hamnet","qualityRating":{"ratingsBody":"TMS","value":"3.5"},"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Situations","Nudity"],"runTime":"PT02H05M","preferredImage":{"width":"240","height":"360","uri":"assets/p29178588_v_v12_ah.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T15:30","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=283643&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T18:30","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=283643&d=2026-01-31"},{"theatre":{"id":"4617","name":"Regal Cinema 99 Stadium 11"},"dateTime":"2026-01-31T22:00","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJML&m=283643&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T19:45","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=283643&d=2026-01-31"}]},{"tmsId":"MV026496460000","rootId":"29194244","subType":"Feature Film","title":"Pets on a Train","releaseYear":2025,"releaseDate":"2025-07-02","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Animated","Children","Comedy","Adventure"],"audience":"Children","longDescription":"When a crew of animal bandits embark on a routine swindle, they find themselves caught up in a train heist. It's up to Falcon, a petty thief raccoon, and Rex, a righteous police-dog, to save the animals on this high-speed runway train.","shortDescription":"When a crew of animal bandits are caught up in a train heist, Falcon and Rex must save them.","topCast":["Damien Ferrette","Herv\u00e9 Jolly","Kaycie Chase"],"directors":["Beno\u00eet Daffis","Jean-Christian Tassy"],"ratings":[{"body":"Motion Picture Association","code":"PG"}],"advisories":["Adult Situations"],"runTime":"PT01H39M","animation":"Animated","preferredImage":{"width":"240","height":"360","uri":"assets/p29194244_v_v12_ae.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"392","name":"Columbia Theatre St. Helens"},"dateTime":"2026-01-31T13:00","barg":false},{"theatre":{"id":"392","name":"Columbia Theatre St. Helens"},"dateTime":"2026-01-31T16:00","barg":false}]},{"tmsId":"MV025805130000","rootId":"30061146","subType":"Feature Film","title":"Song Sung Blue","releaseYear":2025,"releaseDate":"2025-10-26","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Drama","Music","Rock","Pop","Folk","Country","Soft Rock"],"longDescription":"Two down-on-their-luck performers form a Neil Diamond tribute band, proving it's never too late to find love and follow your dreams.","shortDescription":"Two down-on-their-luck performers form a Neil Diamond tribute band.","topCast":["Hugh Jackman","Kate Hudson","Ella Anderson"],"directors":["Craig Brewer"],"officialUrl":"https://www.focusfeatures.com/song-sung-blue","qualityRating":{"ratingsBody":"TMS","value":"2.5"},"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Language","Adult Situations"],"runTime":"PT02H12M","preferredImage":{"width":"240","height":"360","uri":"assets/p30061146_v_v12_ac.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"392","name":"Columbia Theatre St. Helens"},"dateTime":"2026-01-31T19:00","barg":false},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T12:25","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=283263&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T15:40","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=283263&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T17:25","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=283263&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T20:20","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=283263&d=2026-01-31"}]},{"tmsId":"MV026605470000","rootId":"30848752","subType":"Feature Film","title":"28 Years Later: The Bone Temple","releaseYear":2026,"releaseDate":"2026-01-16","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Horror","Thriller"],"longDescription":"Dr. Kelson makes a discovery that could change the world, while Spike's encounter with cult leader Jimmy Crystal becomes a nightmare he can't escape.","shortDescription":"Spike's encounter with cult leader Jimmy Crystal becomes a nightmare he can't escape.","topCast":["Ralph Fiennes","Jack O'Connell","Alfie Williams"],"directors":["Nia DaCosta"],"officialUrl":"https://www.sonypictures.com/movies/28yearslaterthebonetemple","qualityRating":{"ratingsBody":"TMS","value":"3"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence","Nudity"],"runTime":"PT01H49M","preferredImage":{"width":"240","height":"360","uri":"assets/p30848752_v_v8_ac.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T12:25","barg":false},{"theatre":{"id":"9613","name":"Scappoose Cinema 7"},"dateTime":"2026-01-31T17:00","barg":false}]},{"tmsId":"MV026920920000","rootId":"31225913","subType":"Feature Film","title":"Greenland 2: Migration","releaseYear":2026,"releaseDate":"2026-01-09","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Action","Adventure","Thriller"],"longDescription":"In the aftermath of a comet strike that decimated most of the planet, the Garrity family must leave the safety of their Greenland bunker to traverse a shattered world in search of a new home.","shortDescription":"The Garrity family leaves their bunker to traverse a shattered world in search of a new home.","topCast":["Gerard Butler","Morena Baccarin","Roman Griffin Davis"],"directors":["Ric Roman Waugh"],"qualityRating":{"ratingsBody":"TMS","value":"2"},"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Situations","Violence"],"runTime":"PT01H38M","preferredImage":{"width":"240","height":"360","uri":"assets/p31225913_v_v12_af.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:00","quals":"21+|Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=299426&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T19:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=299426&d=2026-01-31"}]},{"tmsId":"MV023987150000","rootId":"28969124","subType":"Feature Film","title":"28 Years Later","releaseYear":2025,"releaseDate":"2025-06-18","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Horror","Thriller"],"longDescription":"It's been almost three decades since the rage virus escaped from a biological weapons laboratory. Still living in a ruthlessly enforced quarantine, some have found ways to exist amid the infected. One such group of survivors lives on a small island connected to the mainland by a single, heavily defended causeway. When one of them decides to venture into the dark heart of the mainland, he soon discovers a mutation that has spread to not only the infected, but other survivors as well.","shortDescription":"A mutation of the rage virus starts to spread to not only the infected, but survivors as well.","topCast":["Jodie Comer","Aaron Taylor-Johnson","Jack O'Connell"],"directors":["Danny Boyle"],"officialUrl":"https://www.sonypictures.com/movies/28yearslater","qualityRating":{"ratingsBody":"TMS","value":"3"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence","Nudity"],"runTime":"PT01H55M","preferredImage":{"width":"240","height":"360","uri":"assets/p28969124_v_v12_ae.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T13:45","quals":"21+|Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=270245&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T16:30","quals":"21+|Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=270245&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T19:15","quals":"21+|Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=270245&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T21:15","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=270245&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T13:30","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=270245&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T17:30","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=270245&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T20:15","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=270245&d=2026-01-31"}]},{"tmsId":"MV027530750000","rootId":"32039863","subType":"Feature Film","title":"Infinite Icon: A Visual Memoir","releaseYear":2026,"releaseDate":"2026-01-30","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Documentary"],"longDescription":"Paris Hilton's musical journey unfolds through rare footage and intimate moments, from her debut album to her latest work. A raw look at her evolution as an artist and icon, blending performances with personal revelations.","shortDescription":"Paris Hilton's musical journey unfolds through rare footage and intimate moments.","topCast":["Paris Hilton"],"directors":["JJ Duncan","Bruce Robertson"],"ratings":[{"body":"Motion Picture Association","code":"PG-13"}],"advisories":["Adult Language","Adult Situations","Nudity"],"runTime":"PT01H58M","preferredImage":{"width":"240","height":"360","uri":"assets/p32039863_v_v8_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T14:15","quals":"Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=309949&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T17:15","quals":"Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=309949&d=2026-01-31"},{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T20:15","quals":"Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=309949&d=2026-01-31"}]},{"tmsId":"MV025377530000","rootId":"29640343","subType":"Feature Film","title":"Marty Supreme","releaseYear":2025,"releaseDate":"2025-10-06","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Thriller","Drama"],"longDescription":"Marty Mauser, a wily hustler with a dream no one respects, goes to hell and back in pursuit of greatness.","shortDescription":"A wily hustler with a dream no one respects goes to hell and back in pursuit of greatness.","topCast":["Timoth\u00e9e Chalamet","Gwyneth Paltrow","Kevin O'Leary"],"directors":["Josh Safdie"],"officialUrl":"https://a24films.com/films/marty-supreme","qualityRating":{"ratingsBody":"TMS","value":"3.5"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Nudity","Violence"],"runTime":"PT02H29M","preferredImage":{"width":"240","height":"360","uri":"assets/p29640343_v_v12_ad.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T16:15","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=278123&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T13:30","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=278123&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T16:15","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=278123&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T20:45","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=278123&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T14:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=278123&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T15:40","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=278123&d=2026-01-31"},{"theatre":{"id":"2166","name":"Mill Plain 8"},"dateTime":"2026-01-31T19:00","quals":"Closed Captioned|Descriptive Video Services|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AATSA&m=278123&d=2026-01-31"}]},{"tmsId":"MV025901770000","rootId":"30153593","subType":"Feature Film","title":"Sentimental Value","releaseYear":2025,"releaseDate":"2025-05-21","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Drama"],"longDescription":"Sisters Nora and Agnes reunite with their estranged father, Gustav, a once-renowned director who offers Nora a role in what he hopes will be his comeback film. Nora turns it down, but soon discovers he's given the part to an eager young Hollywood star. The two siblings must now navigate a complicated relationship with Gustav while dealing with an American actress dropped right into the middle of their complex family dynamics.","shortDescription":"Sisters navigate a complicated relationship with their estranged father, a once-renowned filmmaker.","topCast":["Renate Reinsve","Stellan Skarsg\u00e5rd","Inga Ibsdotter Lilleaas"],"directors":["Joachim Trier"],"officialUrl":"https://www.neonrated.com/film/sentimental-value","qualityRating":{"ratingsBody":"TMS","value":"3.5"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Brief Nudity"],"runTime":"PT02H13M","preferredImage":{"width":"240","height":"360","uri":"assets/p30153593_v_v12_af.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"10601","name":"AMC Vancouver Mall 23"},"dateTime":"2026-01-31T18:45","quals":"21+|Closed Captioned|Reserved Seating","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAWRU&m=288605&d=2026-01-31"}]},{"tmsId":"MV026402460000","rootId":"30634943","subType":"Feature Film","title":"The SpongeBob Movie: Search for SquarePants","releaseYear":2025,"releaseDate":"2025-10-26","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Animated","Children","Comedy","Adventure"],"audience":"Children","longDescription":"Hoping to prove his bravery to Mr. Krabs, SpongeBob follows a mysterious, swashbuckling ghost pirate known as the Flying Dutchman on a seafaring adventure that takes him to the deepest depths of the ocean.","shortDescription":"SpongeBob follows a mysterious, swashbuckling ghost pirate on a seafaring adventure.","topCast":["Tom Kenny","Clancy Brown","Mark Hamill"],"directors":["Derek Drymon"],"qualityRating":{"ratingsBody":"TMS","value":"3"},"ratings":[{"body":"Motion Picture Association","code":"PG"}],"advisories":["Adult Situations"],"runTime":"PT01H28M","animation":"Animated","preferredImage":{"width":"240","height":"360","uri":"assets/p30634943_v_v8_ah.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T12:40","quals":"Closed Captioned","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=290956&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T15:20","quals":"Closed Captioned","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=290956&d=2026-01-31"}]},{"tmsId":"MV026711840000","rootId":"30946786","subType":"Feature Film","title":"David","releaseYear":2025,"releaseDate":"2025-12-19","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Animated","Family","Musical","Adventure"],"longDescription":"From the songs of his mother's heart to the whispers of a faithful God, David's story begins in quiet devotion. When the giant Goliath rises to terrorize a nation, a young shepherd armed with only a sling, a few stones and unshakable faith steps forward. Pursued by power and driven by purpose, his journey tests the limits of loyalty, love and courage, culminating in a battle not just for a crown, but for the soul of a kingdom.","shortDescription":"A shepherd tests the limits of loyalty and courage to defend his kingdom from the giant Goliath.","topCast":["Phil Wickham","Brandon Engman","Brian Stivale"],"directors":["Phil Cunningham","Brent Dawes"],"officialUrl":"https://www.angel.com/movies/david","qualityRating":{"ratingsBody":"TMS","value":"2.5"},"ratings":[{"body":"Motion Picture Association","code":"PG"}],"advisories":["Adult Situations","Violence"],"runTime":"PT01H55M","animation":"Animated","preferredImage":{"width":"240","height":"360","uri":"assets/p30946786_v_v7_aa.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T13:30","quals":"Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=301876&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T16:30","quals":"Sub-Titled|Open Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=301876&d=2026-01-31"}]},{"tmsId":"MV026921410000","rootId":"31226073","subType":"Feature Film","title":"Primate","releaseYear":2025,"releaseDate":"2025-09-18","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Horror","Thriller"],"longDescription":"Lucy's tropical island homecoming turns deadly when her family's clever chimpanzee, Ben, becomes rabid. With her father away and no help coming, paradise becomes a prison as Lucy and her friends fight for survival against a pet they once trusted.","shortDescription":"Friends find themselves fighting for their lives when a rabid chimpanzee goes on a violent rampage.","topCast":["Johnny Sequoyah","Jessica Alexander","Troy Kotsur"],"directors":["Johannes Roberts"],"officialUrl":"https://www.primatemovie.com/home/","qualityRating":{"ratingsBody":"TMS","value":"2.5"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Graphic Violence"],"runTime":"PT01H29M","preferredImage":{"width":"240","height":"360","uri":"assets/p31226073_v_v8_ad.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T18:20","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=298965&d=2026-01-31"},{"theatre":{"id":"9032","name":"Regal Vancouver Plaza 10"},"dateTime":"2026-01-31T20:50","quals":"Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAAQF&m=298965&d=2026-01-31"},{"theatre":{"id":"10546","name":"Jubitz Cinema"},"dateTime":"2026-01-31T12:00","barg":false},{"theatre":{"id":"10546","name":"Jubitz Cinema"},"dateTime":"2026-01-31T15:30","barg":false},{"theatre":{"id":"10546","name":"Jubitz Cinema"},"dateTime":"2026-01-31T19:00","barg":false}]},{"tmsId":"MV026989070000","rootId":"30693481","subType":"Feature Film","title":"A Private Life","releaseYear":2025,"releaseDate":"2025-05-20","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Crime drama","Mystery"],"longDescription":"The renowned psychiatrist Lilian Steiner mounts a private investigation into the death of one of her patients, whom she is convinced has been murdered.","shortDescription":"Psychiatrist Lilian Steiner mounts a private investigation into the death of one of her patients.","topCast":["Jodie Foster","Daniel Auteuil","Virginie Efira"],"directors":["Rebecca Zlotowski"],"officialUrl":"https://www.sonyclassics.com/film/aprivatelife/","ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Nudity","Violence"],"runTime":"PT01H43M","preferredImage":{"width":"240","height":"360","uri":"assets/p30693481_i_v8_aa.jpg?w=240&h=360","category":"Iconic","primary":"true"},"showtimes":[{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T13:25","quals":"Advance Tickets Available|Sub-Titled|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=299299&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T15:20","quals":"Advance Tickets Available|Sub-Titled|Closed Captioned|Descriptive Video Services","barg":true,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=299299&d=2026-01-31"},{"theatre":{"id":"4618","name":"Regal City Center Stadium 12"},"dateTime":"2026-01-31T17:30","quals":"Advance Tickets Available|Sub-Titled|Closed Captioned|Descriptive Video Services","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAJMM&m=299299&d=2026-01-31"}]},{"tmsId":"MV026710260000","rootId":"30945910","subType":"Feature Film","title":"No Other Choice","releaseYear":2025,"releaseDate":"2025-08-29","titleLang":"en","descriptionLang":"en","entityType":"Movie","genres":["Dark comedy","Thriller"],"longDescription":"Abruptly laid off after 25 years at the same company, a desperate man goes to extreme lengths to eliminate the competition for the job he wants.","shortDescription":"A desperate man goes to extreme lengths to eliminate the competition for the job he wants.","topCast":["Lee Byung-hun","Son Ye-jin","Park Hee-soon"],"directors":["Park Chan-wook"],"officialUrl":"https://www.neonrated.com/film/no-other-choice","qualityRating":{"ratingsBody":"TMS","value":"3.5"},"ratings":[{"body":"Motion Picture Association","code":"R"}],"advisories":["Adult Language","Adult Situations","Violence"],"runTime":"PT02H19M","preferredImage":{"width":"240","height":"360","uri":"assets/p30945910_v_v8_ab.jpg?w=240&h=360","category":"VOD Art","text":"yes","primary":"true"},"showtimes":[{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T12:30","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=297151&d=2026-01-31"},{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T16:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=297151&d=2026-01-31"},{"theatre":{"id":"1093","name":"St. Johns Twin Cinema & Pub"},"dateTime":"2026-01-31T18:00","barg":false,"ticketURI":"http://www.fandango.com/tms.asp?t=AAHIR&m=297151&d=2026-01-31"}]}];
const rawData = testData;

// --- MAIN COMPONENT ---
function App() {
  // 1. STATE
  const [selectedTheatreId, setSelectedTheatreId] = useState<string>('all');
  const [selectedDate, setSelectedDate] = useState<string>('all');
  const [firstMovie, setFirstMovie] = useState<{ id: string; title: string; date: string, time: string, endTime: string } | null>(null);
  const [secondMovie, setSecondMovie] = useState<{ id: string; title: string; date: string, time: string, endTime: string } | null>(null);
  const [bufferThreshold, setBufferThreshold] = useState<Date | null>(null);

  // 2. DATA DERIVATION
  // Get all unique theaters for the dropdown
  const allTheatres = useMemo(() => {
    const theatreMap = new Map<string, Theatre>();
    (rawData as Movie[]).forEach(movie => {
      movie.showtimes.forEach(s => theatreMap.set(s.theatre.id, s.theatre));
    });
    return Array.from(theatreMap.values()).sort((a, b) => a.name.localeCompare(b.name));
  }, []);

  // Filter movies ONLY by theater to determine which dates are available
  const moviesAtSelectedTheatre = useMemo(() => {
    if (selectedTheatreId === 'all') return rawData as Movie[];
    return (rawData as Movie[])
      .map(movie => ({
        ...movie,
        showtimes: movie.showtimes.filter(s => s.theatre.id === selectedTheatreId)
      }))
      .filter(m => m.showtimes.length > 0);
  }, [selectedTheatreId]);

  // Get unique dates available at the chosen theater
  const availableDates = useMemo(() => {
    const dates = new Set<string>();
    moviesAtSelectedTheatre.forEach(movie => {
      movie.showtimes.forEach(s => dates.add(s.dateTime.split('T')[0]));
    });
    return Array.from(dates).sort();
  }, [moviesAtSelectedTheatre]);

  // FINAL FILTERED LIST: Applies Date and Double-Feature Buffer
  const filteredMovies = useMemo(() => {
    let result = moviesAtSelectedTheatre;

    // 1. Exclude the movie already picked
    if (firstMovie) {
      result = result.filter(movie => movie.tmsId !== firstMovie.id);
    }

    // 2. Lock to the Date of the first movie
    // If firstMovie exists, we ignore the "selectedDate" state and force the movie's date
    const dateToFilter = firstMovie ? firstMovie.date : selectedDate;

    if (dateToFilter !== 'all') {
      result = result.map(movie => ({
        ...movie,
        showtimes: movie.showtimes.filter(s => s.dateTime.split('T')[0] === dateToFilter)
      })).filter(m => m.showtimes.length > 0);
    }

    // 3. Apply the 30m Buffer
    if (bufferThreshold) {
      result = result.map(movie => ({
        ...movie,
        showtimes: movie.showtimes.filter(s => new Date(s.dateTime) >= bufferThreshold)
      })).filter(m => m.showtimes.length > 0);
    }

    return result;
  }, [moviesAtSelectedTheatre, selectedDate, bufferThreshold, firstMovie]);

  // 3. HANDLERS
  const handleTheatreChange = (id: string) => {
    setSelectedTheatreId(id);
    setSelectedDate('all');
    setFirstMovie(null);
    setBufferThreshold(null);
  };

  const handleFirstSelect = (movie: Movie, startTimeStr: string, theaterId: string) => {
    const selectedDateStr = startTimeStr.split('T')[0]; // Extract "YYYY-MM-DD"
    const duration = getDurationMinutes(movie.runTime);
    const start = new Date(startTimeStr);
    const end = new Date(start.getTime() + duration * 60000);

    setSelectedTheatreId(theaterId);

    setFirstMovie({ 
      id: movie.tmsId, 
      title: movie.title, 
      time: start.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
      date: selectedDateStr, // Store this in state,
      endTime: end.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
    });

    setBufferThreshold(getBufferTime(startTimeStr, movie.runTime));
    
    // Automatically set the Jump-To-Date bar to this date
    setSelectedDate(selectedDateStr);
  };

  // Updated Handler for selecting the second movie
  const handleSecondTimeSelect = (movie: Movie, startTimeStr: string) => {
    const start = new Date(startTimeStr);
    const duration = getDurationMinutes(movie.runTime);
    const end = new Date(start.getTime() + duration * 60000);
    const selectedDateStr = startTimeStr.split('T')[0]; // Extract "YYYY-MM-DD"


    setSecondMovie({
      id: movie.tmsId,
      title: movie.title,
      time: start.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
      date: selectedDateStr, // Store this in state,
      endTime: end.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
    });
  };

  const resetAll = () => {
    setFirstMovie(null);
    setSecondMovie(null);
    setBufferThreshold(null);
    setSelectedDate('all');
  };

  // 4. RENDER
  return (
    <div style={{ maxWidth: '800px', margin: '0 auto', padding: '20px', fontFamily: 'sans-serif' }}>
      <header style={{ marginBottom: '30px' }}>
        <h1 style={{ fontSize: '2.5rem', marginBottom: '10px' }}>Double Feature Planner</h1>
        
        {/* Theater Select */}
        <div style={{ marginBottom: '20px' }}>
          <label style={{ fontWeight: 'bold', display: 'block', marginBottom: '5px' }}>Choose Theater</label>
          <select 
            value={selectedTheatreId} 
            onChange={(e) => handleTheatreChange(e.target.value)}
            style={{ width: '100%', padding: '12px', borderRadius: '8px', fontSize: '1rem' }}
            disabled={firstMovie?.id ? true : false}
          >
            <option value="all">All Theaters</option>
            {allTheatres.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}
          </select>
        </div>

        {/* JUMP TO DATE BAR */}
        {!firstMovie ? (
          <div style={{ display: 'flex', gap: '10px', overflowX: 'auto', marginBottom: '20px' }}>
            {/* Date Jump Bar */}
            <div style={{ display: 'flex', gap: '10px', overflowX: 'auto', paddingBottom: '10px' }}>
              <button 
                onClick={() => setSelectedDate('all')}
                style={dateButtonStyle(selectedDate === 'all')}
              >
                All Dates
              </button>
              {availableDates.map(date => (
                <button 
                  key={date}
                  onClick={() => setSelectedDate(date)}
                  style={dateButtonStyle(selectedDate === date)}
                >
                  {new Date(date + 'T00:00:00').toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric' })}
                </button>
              ))}
            </div>
          </div>
        ) : (
          <div style={{ marginBottom: '20px', padding: '10px', borderBottom: '1px solid #eee', color: '#666' }}>
            Showing only <b>{new Date(firstMovie.date + 'T00:00:00').toLocaleDateString(undefined, { weekday: 'long', month: 'short', day: 'numeric' })}</b>
          </div>
        )}

        
      </header>

      {/* Double Feature Status Panel */}
      {firstMovie && (!secondMovie) && (
        <div style={{ backgroundColor: '#157347', color: 'white', padding: '20px', borderRadius: '12px', marginBottom: '20px' }}>
          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
            <div>
              <p style={{ margin: 0, fontSize: '0.8rem', opacity: 0.8 }}>FIRST MOVIE</p>
              <h3 style={{ margin: 0 }}>{firstMovie.title} at {firstMovie.time}</h3>
            </div>
            <div style={{ display: 'flex', gap: '15px', fontSize: '0.8rem', marginBottom: '15px', justifyContent: 'center' }}>
              <span><span style={{color: '#28a745'}}></span> Perfect Gap (0-15m)</span>
              <span><span style={{color: '#fd7e14'}}></span> Decent Gap (15-30m)</span>
              <span><span style={{color: '#dc3545'}}></span> Long Wait (30m+)</span>
            </div>
            <button onClick={() => { setFirstMovie(null); setBufferThreshold(null); }} style={{ padding: '8px 15px', cursor: 'pointer' }}>Reset</button>
          </div>
          <p style={{ margin: '10px 0 0 0', fontSize: '0.9rem' }}>
             Now showing movies starting after <b>{bufferThreshold?.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</b> at <b>{selectedTheatreId}</b> Theater.
          </p>
        </div>
      )}

      {/* Movie Results */}
      <main>
        {(firstMovie && secondMovie) ?
          <Itinerary first={firstMovie} second={secondMovie} onReset={resetAll} />
          : (
            <>{filteredMovies.length > 0 ? (
              filteredMovies.map(movie => (
                <MovieCard
                  key={movie.tmsId}
                  movie={movie}
                  bufferThreshold={bufferThreshold} // Pass the threshold here
                  onTimeSelect={(t: string, id: string) => !firstMovie ? handleFirstSelect(movie, t, id) : handleSecondTimeSelect(movie, t)}
                />
              ))
            ) : (
              <div style={{ padding: '50px', textAlign: 'center', color: '#666' }}>
                No movies match your current selection.
              </div>
            )}</>
          )}
      </main>
    </div>
  );
}

// Simple dynamic styling helper for date buttons
const dateButtonStyle = (isActive: boolean) => ({
  padding: '10px 18px',
  borderRadius: '20px',
  border: 'none',
  cursor: 'pointer',
  whiteSpace: 'nowrap' as const,
  backgroundColor: isActive ? '#0d6efd' : '#e9ecef',
  color: isActive ? 'white' : '#333',
  fontWeight: isActive ? 'bold' : 'normal'
});

export default App;